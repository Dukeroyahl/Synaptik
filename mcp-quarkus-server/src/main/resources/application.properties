# Synaptik MCP Server Configuration  
# Native executable for stdio MCP, calling Docker server on port 9001

# Disable HTTP server (stdio-only native executable)
quarkus.http.port=0

# MCP stdio configuration  
quarkus.mcp.server.stdio.enabled=true
quarkus.mcp.server.http.enabled=false
quarkus.mcp.server.sse.enabled=false

# Logging configuration
quarkus.log.level=WARN
quarkus.log.console.enable=true
quarkus.log.file.enable=false

# Synaptik API connection (Docker server)
synaptik.api.base-url=${SYNAPTIK_URL:http://localhost:9001}

# REST client configuration
quarkus.rest-client."synaptik-api".url=${SYNAPTIK_URL:http://localhost:9001}
quarkus.rest-client."synaptik-api".scope=jakarta.inject.Singleton

# Native compilation settings
%native.quarkus.native.additional-build-args=--no-fallback,--verbose

# Container build for Apple Silicon (recommended for distribution)
%native.quarkus.native.container-build=true
%native.quarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel-builder-image:jdk-21-mandrel-24.0.0

# Platform-specific container images
%darwin-arm64.quarkus.native.container-build=true
%darwin-arm64.quarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel-builder-image:jdk-21-mandrel-24.0.0
%linux-amd64.quarkus.native.container-build=true
%linux-amd64.quarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel-builder-image:jdk-21-mandrel-24.0.0