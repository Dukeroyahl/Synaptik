# MongoDB Configuration - Dev Services will auto-configure for dev/test
quarkus.mongodb.database=synaptik

# HTTP Configuration
quarkus.http.port=8060
quarkus.http.cors=true
quarkus.http.cors.origins=/.*/

# OpenAPI/Swagger Configuration
quarkus.swagger-ui.always-include=true

# Health Check Configuration
quarkus.smallrye-health.ui.always-include=true

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."org.dukeroyahl.synaptik".level=DEBUG

# Console logging
quarkus.log.console.enable=true
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{2.}] (%t) %s%e%n

# Stanford NLP Configuration
synaptik.nlp.stanford.models.path=/opt/stanford-nlp-models
synaptik.nlp.stanford.timeout=30000
synaptik.nlp.fallback.enabled=true

# File logging (enabled by default for production, can be overridden)
quarkus.log.file.enable=true
quarkus.log.file.path=./logs/synaptik-backend.log
quarkus.log.file.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.file.rotation.max-file-size=10M
quarkus.log.file.rotation.max-backup-index=5

# Production-specific logging (cleaner for production)
%prod.quarkus.log.level=INFO
%prod.quarkus.log.category."org.dukeroyahl.synaptik".level=DEBUG

# Production MongoDB connection (only used when MONGODB_URI env var is set)
%prod.quarkus.mongodb.connection-string=${MONGODB_URI:mongodb://localhost:27017/synaptik}

# MCP-only profile - native binary for Claude Desktop integration
%mcp.quarkus.http.port=0
%mcp.quarkus.mcp.server.stdio.enabled=true
%mcp.quarkus.mcp.server.sse.enabled=false
%mcp.quarkus.swagger-ui.always-include=false
%mcp.quarkus.smallrye-health.ui.always-include=false
%mcp.quarkus.log.level=WARN
%mcp.quarkus.log.file.enable=false
%mcp.quarkus.log.console.enable=true

# MCP profile connects to Synaptik API instead of direct DB
%mcp.synaptik.api.base-url=${SYNAPTIK_URL:http://localhost:8060}

# Native build configuration (updated properties)
%native.quarkus.native.debug.enabled=false
%native.quarkus.native.monitoring.enabled=false
%native.quarkus.native.security.enabled=true
%native.quarkus.native.access.jni=true

# Test profile - enable JaCoCo for tests only
%test.quarkus.jacoco.enabled=true
%test.quarkus.jacoco.report=true
%test.quarkus.jacoco.report-location=build/jacoco
%test.quarkus.jacoco.data-file=jacoco.exec
%test.quarkus.jacoco.includes=org.dukeroyahl.synaptik.**
%test.quarkus.jacoco.excludes=**/*Test*,**/*IT*
